<!DOCTYPE html><html lang="en-US"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>Ox333333's Blog</title><meta name="description" content="I'm a Software Engineer @ YouTubeTV Search &amp; Discovery team, this is the place I share my thoughts."><meta name="subtitle" content="In Pursuit of Absolute Simplicity"><meta name="author" content="Ox333333"><meta name="google-site-verification" content="cvPAyZ-ZCL95oXwVejN2W-cxTBfUemEGQOnHKDEQ8Dk"><meta name="baidu-site-verification" content="Y37PVARLhp"><meta name="sogou_site_verification" content="U9vmiisoNV"><meta name="msvalidate.01" content="31FA25C5697C3CA088656A9B63A9013F"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="og:site_name" content="Ox333333's Blog"><meta name="og:type" content="website"><meta name="og:title" content="Ox333333's Blog"><meta name="og:description" content="I'm a Software Engineer @ YouTubeTV Search &amp; Discovery team, this is the place I share my thoughts."><meta name="og:url" content="https://zpjiang.me/"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Ox333333's Blog"><meta name="twitter:description" content="I'm a Software Engineer @ YouTubeTV Search &amp; Discovery team, this is the place I share my thoughts."><meta name="twitter:url" content="https://zpjiang.me/"><meta name="twitter:site" content="@Ox333333"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://zpjiang.me/atom.xml" title="Ox333333"><meta name="generator" content="Hexo 5.4.0"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="https://blog.1pixel.cc" target="_blank" class="nav-list-link">TRAVEL</a></li><li class="nav-list-item"><a href="https://1pixel.cc" target="_blank" class="nav-list-link">PHOTOGRAPHY</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><ul class="home post-list"><li class="post-list-item"><article class="post-block"><h1 class="post-title"><a href="/2017/07/10/Push-based-monitoring-for-Prometheus/" class="post-title-link">Push Based Monitoring Service with Prometheus</a></h1><div class="post-info">Jul 10, 2017</div><div class="post-content"><p>Prometheus natively supports pull model, but there’s a long discussion for Prometheus between pull and push, e.g. <a target="_blank" rel="noopener" href="https://prometheus.io/blog/2016/07/23/pull-does-not-scale-or-does-it/">Pull doesn’t scale - or does it?</a>. In this post it gives detailed pros and cons. Considering that we prefer not to expose an extra HTTP endpoint for each worker node, we would like to take some walk around to implement a push based monitoring with <a target="_blank" rel="noopener" href="https://github.com/prometheus/node_exporter">node_exporter</a>, <a target="_blank" rel="noopener" href="https://github.com/prometheus/pushgateway">pushgateway</a> and <a target="_blank" rel="noopener" href="https://github.com/prometheus/prometheus">prometheus</a>.</p></div><a href="/2017/07/10/Push-based-monitoring-for-Prometheus/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h1 class="post-title"><a href="/2017/07/06/systemd-kill-mode/" class="post-title-link">Systemd Kill Mode</a></h1><div class="post-info">Jul 6, 2017</div><div class="post-content"><p>I used to create a shell script to start a service if I have to pass arguments to the binary, since it does not support command line arguments in the field <code>ExecStart</code> in service file.</p>
<p>I worked well except that when I tried to restart a web server with <code>systemctl restart XXX.service</code>, it failed to listen on the port as the port was being used by another process. That was wired because that port was used by the web server right before I restarted the service. I checked the port state by using <code>netstat -nalp</code>, found that it was actually being listened by the web server. I did run restart and I was pretty sure the service is down because its status is <code>inactive</code>.</p></div><a href="/2017/07/06/systemd-kill-mode/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h1 class="post-title"><a href="/2017/06/05/struggling/" class="post-title-link">思考</a></h1><div class="post-info">Jun 5, 2017</div><div class="post-content"><p>讲几则小事，都发生在最近。</p></div><a href="/2017/06/05/struggling/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h1 class="post-title"><a href="/2017/04/19/Interview-Thoughts/" class="post-title-link">面试实习生感想</a></h1><div class="post-info">Apr 19, 2017</div><div class="post-content"><p>今天一口气面了六轮实习生，早上九点到下午四点，中间休息一小时，最大的感受是，面试别人要比自己参加面试累多了。六位选手各有特长，五名研究生，一名本科生，一个人曾经参加过ACM拿过奖牌，两位研究生做人工智能并发了顶会，本科生参加超算的比赛在美国刷新了全球记录，一位信安的学弟做渗透。总的来说，看完简历的时候压力山大。</p></div><a href="/2017/04/19/Interview-Thoughts/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h1 class="post-title"><a href="/2017/03/10/Download-File-with-Size-Limit/" class="post-title-link">Download File with Size Limit in Golang</a></h1><div class="post-info">Mar 10, 2017</div><div class="post-content"><p>It’s a common case to download a file with full size, but what if we want to download only the first few bytes of the file? For example if we want to check the file header or to check the file existence.</p>
<p>Should we download file to buffer and copy it to local disk by counting bytes? No, Go offers a super easy function to handle this, <a target="_blank" rel="noopener" href="https://golang.org/pkg/io/#CopyN">io.Copy()</a>.</p></div><a href="/2017/03/10/Download-File-with-Size-Limit/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h1 class="post-title"><a href="/2017/02/17/systemd-timer-instead-of-cron-job/" class="post-title-link">Use Systemd Timer Instead of Cron Jobs</a></h1><div class="post-info">Feb 17, 2017</div><div class="post-content"><p>One advantage of <code>systemd.timer</code> over <code>cron job</code> is, you can easily get detailed execution log from <code>journalctl -u</code>. Here is a demo of creating a simple task that runs periodically.</p></div><a href="/2017/02/17/systemd-timer-instead-of-cron-job/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h1 class="post-title"><a href="/2017/02/10/azure-cli-china-endpoint/" class="post-title-link">Azure-cli 使用国内 Mooncake 资源</a></h1><div class="post-info">Feb 10, 2017</div><div class="post-content"><p>由于某些原因的原因， Azure 在中国的业务由世纪互联经营，所有的 Azure Service 均需本地化后才能使用。 <a target="_blank" rel="noopener" href="https://github.com/Azure/azure-cli">Azure-cli</a> 是一个非常强大的 Azure 资源管理工具，但由于在国内使用需要访问国内资源，所以在使用时需要选择中国的 Environment。</p></div><a href="/2017/02/10/azure-cli-china-endpoint/" class="read-more">...阅读全文</a></article></li><li class="post-list-item"><article class="post-block"><h1 class="post-title"><a href="/2017/02/07/yammer-visit/" class="post-title-link">Short Tour @ Microsoft SF Yammer Office</a></h1><div class="post-info">Feb 7, 2017</div><div class="post-content"><p>It was exciting to visit Yammer office during my short stay at San Francisco. Although you can find giant Microsoft Logo around the corner, it still feels like a cool startup.</p>
<p><img src="https://raw.githubusercontent.com/0x333333/hexo_img/master/IMG_7687.JPG" style="-ms-transform: rotate(180deg);-webkit-transform:
rotate(180deg);transform: rotate(180deg);" ></p></div><a href="/2017/02/07/yammer-visit/" class="read-more">...阅读全文</a></article></li></ul></section><footer><div class="paginator"><a href="/page/5/" class="prev">上一页</a><a href="/page/7/" class="next">下一页</a></div><div class="copyright"><p>2013 - 2021 | <a href="http://zpjiang.me">Ox333333</a> <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/3.0/">| CC BY-NC-SA</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script async data-ad-client="ca-pub-9383149074803575" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-47515905-1",'auto');ga('send','pageview');</script></body></html>